(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(58)},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(25),l=a.n(r),i=a(6),c=a(4),s=a(9),u=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"jumbotron"},o.a.createElement("h1",{className:"display-4"},o.a.createElement("img",{src:"https://lh3.googleusercontent.com/5CNo4tlDYDJ2N8qyRoLlTKEx7CvuCSdr-iiSaQob5EGRGrvy9QFnX0HufdPGRHWuq7-v",width:"100"}),"Welcome to React Todos! "),o.a.createElement("p",{className:"lead"},"This is a simple todo app to help keep you organized."),o.a.createElement("hr",{className:"my-4"}),o.a.createElement("p",null,"It is built using React, Express and MongoDB"),o.a.createElement(c.b,{to:"/login",className:"mr-1"},o.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg"},"Login")),o.a.createElement(c.b,{to:"/register"},o.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg"},"Register"))))},m=a(11),p=function(e){var t=e.todo,a=e.finishTodo,n={};return t.completed&&(n.textDecoration="line-through"),o.a.createElement("div",{style:n,onClick:a,"data-name":t._id},t.text)},d=a(8),g=a.n(d),E={getTodos:function(){return g.a.get("/api/todos/")},getTodo:function(e){return g.a.get("/api/todos/"+e)},saveTodo:function(e){return g.a.post("/api/todos",e)},updateTodo:function(e){return g.a.put("/api/todos/"+e._id,e)},register:function(e){return g.a.post("/api/user",{username:e.email,password:e.password})},login:function(e){return g.a.post("/api/user/login",{username:e.email,password:e.password})},logout:function(){return g.a.post("/api/user/logout")},status:function(){return g.a.get("/api/user")}};a(56);var b=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),d=u[0],g=u[1],b=Object(n.useRef)(null);function f(){E.getTodos().then(function(e){g(e.data)}).catch(function(e){return console.log(e)})}function v(e){l(e.target.value)}function h(e){e.preventDefault(),E.saveTodo({text:r}).then(function(){f()}).catch(function(e){return console.log(e)}),l("")}return Object(n.useEffect)(function(){b.current&&b.current.focus(),f()},[]),o.a.createElement("div",{className:"todos"},o.a.createElement("h1",null,"My Todos App"),e.isLoggedIn?o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("input",{type:"text",name:"todo",onChange:v,value:r,ref:b}),o.a.createElement("button",{onClick:h},"Add Todo")),o.a.createElement("hr",null),o.a.createElement("h2",null,"Todo"),d.length?d.map(function(e){return o.a.createElement(p,{todo:e,key:e._id,finishTodo:function(){return function(e){var t=d.find(function(t){return t._id===e._id});E.updateTodo(Object(m.a)({},t,{completed:!t.completed})).then(function(){f()}).catch(function(e){return console.log(e)})}(e)}})}):o.a.createElement("h3",null,"Nothing left to do!")):o.a.createElement("div",null,"You must be logged in! Please login ",o.a.createElement(c.b,{to:"/login"},"here")))},f=a(12),v=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],l=function(e){var t=e.target,n=t.name,o=t.value;r(Object(m.a)({},a,Object(f.a)({},n,o)))};return o.a.createElement("div",null,o.a.createElement("h1",null,"Login"),o.a.createElement("form",null,o.a.createElement("div",{class:"input-group input-group-sm mb-3"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"Email")),o.a.createElement("input",{type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",name:"email",onChange:l})),o.a.createElement("div",{class:"input-group input-group-sm mb-3"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"Password")),o.a.createElement("input",{type:"password",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",name:"password",onChange:l})),o.a.createElement("button",{onClick:function(e){e.preventDefault(),a.email&&a.password&&E.login(a).then(function(){window.location.assign("/todos")}).catch(function(e){console.log("error!",e)})}},"Submit")))},h=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1],l=function(e){var t=e.target,n=t.name,o=t.value;r(Object(m.a)({},a,Object(f.a)({},n,o)))};return o.a.createElement("div",null,o.a.createElement("h1",null,"Register"),o.a.createElement("form",null,o.a.createElement("div",{class:"input-group input-group-sm mb-3"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"Email")),o.a.createElement("input",{type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",name:"email",onChange:l})),o.a.createElement("div",{class:"input-group input-group-sm mb-3"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"Password")),o.a.createElement("input",{type:"password",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",name:"password",onChange:l})),o.a.createElement("button",{onClick:function(e){e.preventDefault(),a.email&&a.password&&E.register(a).then(function(e){console.log("res",e),alert("You are now registered! Please login"),window.location.assign("/login")}).catch(function(e){console.log("error!",e)})}},"Submit")))},N=function(){return o.a.createElement("div",null,"404 not found")},w=(a(57),function(e){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},o.a.createElement("a",{className:"navbar-brand",href:"#"},"React Todos"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/"},"Home")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/todos"},"Todos")),!e.isLoggedIn&&o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/login"},"Login")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(c.b,{className:"nav-link",to:"/register"},"Register"))),e.isLoggedIn&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",onClick:function(){E.logout().then(function(e){window.location.assign("/")})}},"Logout")))))});var x=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({}),m=Object(i.a)(l,2),p=m[0],d=m[1];return Object(n.useEffect)(function(){E.status().then(function(e){e.data.user&&(r(!0),d({firstName:e.data.user.firstName,lastName:e.data.user.lastName,isLoggedIn:e.data.user.isLoggedIn}))}).catch(function(e){console.log("error",e)})},[]),o.a.createElement(c.a,null,o.a.createElement("div",{className:"container"},o.a.createElement(w,{isLoggedIn:p.isLoggedIn}),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/"},o.a.createElement(u,null)),o.a.createElement(s.a,{exact:!0,path:"/todos"},o.a.createElement(b,{isLoggedIn:a})),o.a.createElement(s.a,{exact:!0,path:"/login"},o.a.createElement(v,null)),o.a.createElement(s.a,{exact:!0,path:"/register"},o.a.createElement(h,null)),o.a.createElement(s.a,null,o.a.createElement(N,null)))))};l.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.cf15f7d3.chunk.js.map